(this["webpackJsonpamplify-app"]=this["webpackJsonpamplify-app"]||[]).push([[0],{151:function(t,e,n){},157:function(t,e){},215:function(t,e,n){var a={"./amplify-amazon-button_5.entry.js":[221,16],"./amplify-auth-container.entry.js":[222,17],"./amplify-auth-fields_9.entry.js":[223,18],"./amplify-authenticator.entry.js":[224,5],"./amplify-button_3.entry.js":[225,19],"./amplify-chatbot.entry.js":[226,4],"./amplify-checkbox.entry.js":[227,20],"./amplify-confirm-sign-in_7.entry.js":[228,6],"./amplify-container.entry.js":[229,21],"./amplify-federated-buttons_2.entry.js":[230,22],"./amplify-federated-sign-in.entry.js":[231,23],"./amplify-form-field_4.entry.js":[232,24],"./amplify-greetings.entry.js":[233,25],"./amplify-icon-button.entry.js":[234,26],"./amplify-icon.entry.js":[235,7],"./amplify-link.entry.js":[236,27],"./amplify-nav_2.entry.js":[237,28],"./amplify-photo-picker.entry.js":[238,29],"./amplify-picker.entry.js":[239,30],"./amplify-radio-button_3.entry.js":[240,8],"./amplify-s3-album.entry.js":[241,9],"./amplify-s3-image-picker.entry.js":[242,10],"./amplify-s3-image.entry.js":[243,11],"./amplify-s3-text-picker.entry.js":[244,12],"./amplify-s3-text.entry.js":[245,13],"./amplify-select-mfa-type.entry.js":[246,31],"./amplify-sign-in-button.entry.js":[247,14],"./amplify-tooltip.entry.js":[248,32]};function i(t){if(!n.o(a,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=a[t],i=e[0];return n.e(e[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(a)},i.id=215,t.exports=i},217:function(t,e,n){"use strict";n.r(e);var a=n(8),i=n.n(a),s=n(122),r=n.n(s),o=(n(151),n(89)),c=n.n(o),l=n(123),p=n(3),u=n(4),f=n(11),y=n(10),d=n(125),m=n(121),j=n(216),h=n(273),b=n(274),_={aws_project_region:"us-east-1",aws_cognito_identity_pool_id:"us-east-1:81ef3c60-95ad-408b-be9b-1b564d92d8e6",aws_cognito_region:"us-east-1",aws_user_pools_id:"us-east-1_dN70jVDY4",aws_user_pools_web_client_id:"jvuu1mmn5p90i7bofhptrjelq",oauth:{},aws_cognito_username_attributes:[],aws_cognito_social_providers:[],aws_cognito_signup_attributes:["EMAIL"],aws_cognito_mfa_configuration:"OFF",aws_cognito_mfa_types:["SMS"],aws_cognito_password_protection_settings:{passwordPolicyMinLength:8,passwordPolicyCharacters:[]},aws_cognito_verification_mechanisms:["EMAIL"],aws_appsync_graphqlEndpoint:"https://v2zicxt5ejd5hkct7i6xpuzgtu.appsync-api.us-east-1.amazonaws.com/graphql",aws_appsync_region:"us-east-1",aws_appsync_authenticationType:"AMAZON_COGNITO_USER_POOLS"},g=n(124),v=n(21),O=n(135),w=n(27);g.a.register(v.c),d.default.configure(_);var k=function(t){Object(f.a)(n,t);var e=Object(y.a)(n);function n(){var t;Object(p.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={data:{labels:["0"],datasets:[{label:"Test",fill:!1,lineTension:.5,backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:[0]}]}},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.timer=setInterval((function(){return t.fetch()}),5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"fetch",value:function(){var t=this.state.data.datasets.slice(0),e=t[0].data.slice(0),n=this.state.data.labels;console.log(e),console.log(n);var a=100*Math.random()+0;n.push(String(a)),e.push(a),t[0].data=e,this.setState({data:Object.assign({},this.state.data,{labels:n,datasets:t})})}},{key:"render",value:function(){return Object(w.jsx)("div",{children:Object(w.jsx)(O.a,{data:this.state.data})})}}]),n}(a.Component),x=function(t){Object(f.a)(n,t);var e=Object(y.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(w.jsx)("div",{children:this.props.trips.map((function(t){return Object(w.jsx)("div",{style:C.trip,children:Object(w.jsx)("p",{children:t.id})},t.id)}))})}}]),n}(a.Component),T=function(t){Object(f.a)(n,t);var e=Object(y.a)(n);function n(t){var a;return Object(p.a)(this,n),(a=e.call(this,t)).state={trips:[]},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.loadNewData(),this.interval=setInterval((function(){return t.loadNewData()}),1e3)}},{key:"loadNewData",value:function(){var t=Object(l.a)(c.a.mark((function t(){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("checking if there is new data !"),t.next=3,m.a.graphql(Object(j.b)("\n  query ListTrips(\n    $filter: ModelTripFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listTrips(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        username\n        appId\n        deviceAddress\n        deviceName\n        startTimestamp\n        maxKmsHour\n        numberOfUnlocks\n        sumKms\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n"));case 3:e=t.sent,this.setState({trips:e.data.listTrips.items});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return Object(w.jsxs)("div",{style:C.container,children:[Object(w.jsx)("h1",{children:"Trips"}),Object(w.jsx)(k,{}),Object(w.jsx)(x,{trips:this.state.trips}),Object(w.jsx)(h.d,{})]})}}]),n}(a.Component),I=Object(b.a)(T),C={container:{width:1e3,margin:"0 auto",padding:20},trip:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:22,marginBottom:15}},M=function(t){t&&t instanceof Function&&n.e(35).then(n.bind(null,287)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,s=e.getLCP,r=e.getTTFB;n(t),a(t),i(t),s(t),r(t)}))};r.a.render(Object(w.jsx)(i.a.StrictMode,{children:Object(w.jsx)(I,{})}),document.getElementById("root")),M()}},[[217,2,3]]]);
//# sourceMappingURL=main.0ffa9ee9.chunk.js.map