(this["webpackJsonpamplify-app"]=this["webpackJsonpamplify-app"]||[]).push([[0],{151:function(e,t,a){},153:function(e,t,a){},158:function(e,t){},216:function(e,t,a){var n={"./amplify-amazon-button_5.entry.js":[222,16],"./amplify-auth-container.entry.js":[223,17],"./amplify-auth-fields_9.entry.js":[224,18],"./amplify-authenticator.entry.js":[225,5],"./amplify-button_3.entry.js":[226,19],"./amplify-chatbot.entry.js":[227,4],"./amplify-checkbox.entry.js":[228,20],"./amplify-confirm-sign-in_7.entry.js":[229,6],"./amplify-container.entry.js":[230,21],"./amplify-federated-buttons_2.entry.js":[231,22],"./amplify-federated-sign-in.entry.js":[232,23],"./amplify-form-field_4.entry.js":[233,24],"./amplify-greetings.entry.js":[234,25],"./amplify-icon-button.entry.js":[235,26],"./amplify-icon.entry.js":[236,7],"./amplify-link.entry.js":[237,27],"./amplify-nav_2.entry.js":[238,28],"./amplify-photo-picker.entry.js":[239,29],"./amplify-picker.entry.js":[240,30],"./amplify-radio-button_3.entry.js":[241,8],"./amplify-s3-album.entry.js":[242,9],"./amplify-s3-image-picker.entry.js":[243,10],"./amplify-s3-image.entry.js":[244,11],"./amplify-s3-text-picker.entry.js":[245,12],"./amplify-s3-text.entry.js":[246,13],"./amplify-select-mfa-type.entry.js":[247,31],"./amplify-sign-in-button.entry.js":[248,14],"./amplify-tooltip.entry.js":[249,32]};function s(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],s=t[0];return a.e(t[1]).then((function(){return a(s)}))}s.keys=function(){return Object.keys(n)},s.id=216,e.exports=s},218:function(e,t,a){"use strict";a.r(t);var n=a(8),s=a.n(n),r=a(123),c=a.n(r),i=(a(151),a(67)),l=a.n(i),o=a(90),d=a(3),m=a(4),u=a(12),p=a(11),h=(a(153),a(125)),b=a(122),j=a(217),_=a(274),f=a(275),y={aws_project_region:"us-east-1",aws_cognito_identity_pool_id:"us-east-1:81ef3c60-95ad-408b-be9b-1b564d92d8e6",aws_cognito_region:"us-east-1",aws_user_pools_id:"us-east-1_dN70jVDY4",aws_user_pools_web_client_id:"jvuu1mmn5p90i7bofhptrjelq",oauth:{},aws_cognito_username_attributes:[],aws_cognito_social_providers:[],aws_cognito_signup_attributes:["EMAIL"],aws_cognito_mfa_configuration:"OFF",aws_cognito_mfa_types:["SMS"],aws_cognito_password_protection_settings:{passwordPolicyMinLength:8,passwordPolicyCharacters:[]},aws_cognito_verification_mechanisms:["EMAIL"],aws_appsync_graphqlEndpoint:"https://v2zicxt5ejd5hkct7i6xpuzgtu.appsync-api.us-east-1.amazonaws.com/graphql",aws_appsync_region:"us-east-1",aws_appsync_authenticationType:"AMAZON_COGNITO_USER_POOLS"},O=a(124),g=a(22),v=a(135),x=a(10);O.a.register(g.c),h.default.configure(y);var w=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={data:{labels:["0"],datasets:[{label:"Test",fill:!1,lineTension:.5,backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:[0]}]}},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval((function(){return e.fetch()}),5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"fetch",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.data.datasets.slice(0),a=t[0].data.slice(0),n=this.state.data.labels,s=100*Math.random()+0,n.push(String(s)),a.push(s),t[0].data=a,this.setState({data:Object.assign({},this.state.data,{labels:n,datasets:t})});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsx)(v.a,{data:this.state.data})})}}]),a}(n.Component),k=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return Object(x.jsx)("div",{className:"mdc-data-table",style:I.trip,children:Object(x.jsx)("div",{className:"mdc-data-table__table-container",children:Object(x.jsxs)("table",{className:"mdc-data-table__table","aria-label":"Trip",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{className:"mdc-data-table__header-row",children:[Object(x.jsx)("th",{className:"mdc-data-table__header-cell",role:"columnheader",scope:"col",children:"TripId"}),Object(x.jsx)("th",{className:"mdc-data-table__header-cell",role:"columnheader",scope:"col",children:"Username"}),Object(x.jsx)("th",{className:"mdc-data-table__header-cell mdc-data-table__header-cell--numeric",role:"columnheader",scope:"col",children:"Number of Unlocks"}),Object(x.jsx)("th",{className:"mdc-data-table__header-cell mdc-data-table__header-cell--numeric",role:"columnheader",scope:"col",children:"Max Kms Hour (g)"}),Object(x.jsx)("th",{className:"mdc-data-table__header-cell mdc-data-table__header-cell--numeric",role:"columnheader",scope:"col",children:"Sum Kms"})]})}),Object(x.jsx)("tbody",{className:"mdc-data-table__content",children:this.props.trips.map((function(e){return Object(x.jsxs)("tr",{className:"mdc-data-table__row",children:[Object(x.jsx)("th",{className:"mdc-data-table__cell",scope:"row",children:e.id}),Object(x.jsx)("th",{className:"mdc-data-table__cell",scope:"row",children:e.username}),Object(x.jsx)("td",{className:"mdc-data-table__cell mdc-data-table__cell--numeric",children:e.numberOfUnlocks}),Object(x.jsx)("td",{className:"mdc-data-table__cell mdc-data-table__cell--numeric",children:e.maxKmsHour}),Object(x.jsx)("td",{className:"mdc-data-table__cell mdc-data-table__cell--numeric",children:e.sumKms})]},e.id)}))})]})})})}}]),a}(n.Component),N=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={trips:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.loadNewData(),this.interval=setInterval((function(){return e.loadNewData()}),1e3)}},{key:"loadNewData",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("checking if there is new data !"),e.next=3,b.a.graphql(Object(j.b)("\n  query ListTrips(\n    $filter: ModelTripFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listTrips(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        username\n        appId\n        deviceAddress\n        deviceName\n        startTimestamp\n        maxKmsHour\n        numberOfUnlocks\n        sumKms\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n"));case 3:t=e.sent,this.setState({trips:t.data.listTrips.items});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return Object(x.jsxs)("div",{style:I.container,children:[Object(x.jsx)("h1",{children:"Dashboard"}),Object(x.jsx)(w,{}),Object(x.jsx)("h1",{children:"Latest Trips"}),Object(x.jsx)(k,{trips:this.state.trips}),Object(x.jsx)(_.d,{})]})}}]),a}(n.Component),T=Object(f.a)(N),I={container:{width:1e3,margin:"0 auto",padding:20},trip:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:22,marginBottom:15}},C=function(e){e&&e instanceof Function&&a.e(35).then(a.bind(null,288)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))};c.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(T,{})}),document.getElementById("root")),C()}},[[218,2,3]]]);
//# sourceMappingURL=main.63b04b30.chunk.js.map